@use '../../../../theme/variables';

// El :host representa el elemento <app-seeding-item> en el DOM
:host {
  @apply block; // Hace que el componente sea un elemento de bloque para que el gap funcione
}

.seeding-item {
  @apply bg-slate-800 rounded-xl border border-slate-700 transition-colors;
  box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1); // Añade sombra sutil para mejor separación

  &:hover {
    @apply border-slate-600;
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
  }

  &.grid-view {
    @apply p-5;
  }

  &.list-view {
    @apply p-5;
    // NO margin externo - el gap del contenedor padre lo maneja

    .item-header {
      @apply mb-4;
    }

    .item-body {
      @apply grid grid-cols-12 items-center gap-6;

      .pond-info {
        @apply col-span-2;
      }

      .seeding-details {
        @apply col-span-7;
      }

      .item-actions {
        @apply col-span-3 flex justify-end;
      }
    }
  }
}

// Header
.item-header {
  @apply flex items-start justify-between mb-5;

  .header-left {
    @apply flex items-center gap-3;

    .pond-name {
      @apply text-lg font-semibold text-white m-0;
    }

    .badge {
      @apply px-2.5 py-1 bg-slate-700 text-slate-300 text-xs rounded-full;
    }
  }

  .header-right {
    .status-badge {
      @apply inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium;

      &.status-planned {
        @apply bg-blue-500 bg-opacity-20 text-blue-400 border border-blue-500;
      }

      &.status-active {
        @apply bg-yellow-500 bg-opacity-20 text-yellow-400 border border-yellow-500;
      }

      &.status-confirmed {
        @apply bg-green-500 bg-opacity-20 text-green-400 border border-green-500;
      }
    }
  }
}

// Body
.item-body {
  @apply space-y-4;
}

.pond-info {
  @apply flex items-center gap-2 text-sm;

  .info-label {
    @apply font-medium text-slate-400;
  }

  .info-value {
    @apply text-white font-semibold;
  }
}

.seeding-details {
  @apply space-y-3;

  .detail-row {
    @apply flex items-center gap-2 text-sm;

    .detail-icon {
      @apply text-slate-400;
    }

    .detail-value {
      @apply text-white font-medium;
    }
  }

  .params-row {
    @apply grid grid-cols-2 gap-4;

    .param {
      @apply flex flex-col gap-1;

      .param-label {
        @apply text-xs text-slate-400;
      }

      .param-value {
        @apply text-sm font-medium text-white;
      }
    }
  }

  .lote-info {
    @apply flex gap-2 text-sm;

    .lote-label {
      @apply text-slate-400;
    }

    .lote-value {
      @apply text-white font-medium;
    }
  }
}

// Actions
.item-actions {
  @apply flex gap-2 pt-4 border-t border-slate-700;

  .list-view & {
    @apply pt-0 border-t-0;
  }
}

// Edit Form
.edit-form {
  @apply space-y-4;

  .form-row {
    @apply grid grid-cols-2 gap-3;
  }

  .form-group {
    .form-label {
      @apply block text-xs font-medium text-slate-300 mb-1.5;
    }

    .form-input,
    .form-textarea {
      @apply w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white text-sm placeholder-slate-400 transition-colors;

      &:focus {
        @apply outline-none border-blue-500 ring-2 ring-blue-500 ring-opacity-30;
      }
    }

    .form-textarea {
      @apply resize-none;
    }
  }

  .edit-actions {
    @apply flex gap-2 pt-3;
  }
}

// Button Variants
.btn-sm {
  @apply text-sm px-3 py-2;
}

.btn-success {
  @apply bg-green-500 text-white;

  &:hover {
    @apply bg-green-600;
  }
}

// Responsive
@media (max-width: 1024px) {
  .seeding-item.list-view {
    .item-body {
      @apply grid-cols-1;

      .pond-info,
      .seeding-details,
      .item-actions {
        @apply col-span-1;
      }

      .item-actions {
        @apply justify-start pt-4 border-t border-slate-700;
      }
    }
  }
}

@media (max-width: 768px) {
  .edit-form .form-row {
    @apply grid-cols-1;
  }
}